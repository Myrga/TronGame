<!DOCTYPE html>
<html ng-app="Tron">
	<head>
		<title>Jeu TRON</title>
		<link rel="stylesheet" type="text/css" href="/resources/style.css">
		<script src="/socket.io/socket.io.js"></script>
		<script src="node_modules/angular/angular.js"></script>
		<script src="node_modules/angular-route/angular-route.js"></script>
		<script src="resources/surfacecurve-color.js"></script>
		<script src="/resources/script.js" type="text/javascript" defer></script>
	</head>
	<body>
		<main>
			<header>
				<h1><img src="/resources/images/logo.jpg"/></h1>
			</header>

			<!-- Vue principal qui change en fonction du template -->
			<div ng-view></div>

			<!-- Views -->
			<script type="text/ng-template" id="login.html">
				<section id="connexion">
					<header>
						<h2>Connexion</h2>
					</header>
					<form name="loginPlayer" ng-submit="logIn()">
						<fieldset>
							<label for="login">Identifiant :</label>
							<input id="login" name="login" type="text" ng-change="test()" ng-model="playerName" maxlength="12" required autofocus>
						</fieldset>
						<fieldset>
							<label for="playerColorPicker">Couleur joueur :</label><br /><br />
							<input id="playerColorPicker" name="playerColor" ng-model="playerColorHue" ng-change="refreshColorPickers()" type="range" value="180" min="0" max="360">
							<div id="playerColor" ng-style="playerColorStyle" class="colorDisplay"></div></label><br /><br />
							<label for="ennemyColorPicker">Couleur adversaires :</label><br /><br />
							<input id="ennemyColorPicker" name="playerColor" ng-model="ennemyColorHue" ng-change="refreshColorPickers()" type="range" value="0" min="0" max="360">
							<div id="ennemyColor" ng-style="ennemyColorStyle" class="colorDisplay"></div>
						</fieldset>
						<input type="submit" value="Synchroniser" ng-style="discStyle"/>
					</form>
				</section>
			</script>

			<script type="text/ng-template" id="tron.html">
				<section id="jeu">
					<section id="playerList">
						<h3>EN LIGNE <span>({{keys(tronCtrl.playersInfos).length}})</span></h3>
						<table>
							<tr ng-repeat="player in tronCtrl.playersInfos | orderObjectBy:'score':true" ng-class="{true:'', false:'dead'}[player.alive]">
								<td>{{player.name}}</td>
								<td ng-hide="player.score == -1">{{player.score}}</td>
							</tr>
						</table>
					</section>
					<canvas id="dessin"></canvas>
				</section>
			</script>
		</main>
	</body>
</html>